{"file":"je-radio-group.js","mappings":"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","names":["JeRadioGroup","__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/je-radio-group/je-radio-group.css?tag=je-radio-group&encapsulation=shadow","src/components/je-radio-group/je-radio-group.tsx"],"sourcesContent":[":host {\n  display: contents;\n}\n\n[part=main] {\n  display: block;\n  width: fit-content;\n}\n\n:host([disabled]) [part=main] {\n  opacity: 0.6;\n}\n\n.buttons {\n  display: flex;\n  box-sizing: border-box;\n}\n\n.content {\n  display: contents;\n}\n","import { Component, h, Element, EventEmitter, Prop, Event, Watch, Listen, AttachInternals, State, Host } from '@stencil/core';\n\n@Component({\n  tag: 'je-radio-group',\n  styleUrl: 'je-radio-group.css',\n  shadow: true,\n  formAssociated: true\n})\nexport class JeRadioGroup {\n  @AttachInternals() internals!: ElementInternals;\n  @Element() el!: HTMLJeRadioGroupElement;\n  @State() tabindex = 0;\n\n  /**\n   * Requires a value before the form can be submitted\n   */\n  @Prop() required?: boolean;\n\n  /**\n   * Disables the controls\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Value the form will reset to. Defaults to initial value if not specified\n   */\n  @Prop() originalValue?: any;\n\n  /**\n   * Label that shows above the control\n   */\n  @Prop() label?: string;\n\n  /**\n   * Additional info that shows below the control\n   */\n  @Prop() note?: string;\n\n  /**\n   * The currently selected value\n   */\n  @Prop({ mutable: true }) value?: any;\n\n  /**\n   * Emits the selected value whenever it changes\n   */\n  @Event({ bubbles: false }) valueChange: EventEmitter<any>;\n\n  componentWillLoad() {\n    this.internals.setFormValue(this.value);\n    if (!this.originalValue) this.originalValue = this.value;\n  }\n\n  componentWillRender() {\n    this.getRadios().forEach(radio => radio.selected = radio.value === this.value);\n  }\n\n  componentDidRender() {\n    this.internals.ariaLabel = this.label || this.el.querySelector('[slot=label]')?.textContent\n    this.internals.ariaDescription = this.note || this.el.querySelector('[slot=note]')?.textContent\n    this.internals.ariaInvalid = this.internals.validity.valid ? 'true' : 'false';\n\n    this.internals.states.clear()\n    if (this.required) {\n      this.internals.states.add('--required');\n      if (this.getRadios().every(t => t.selected)) {\n        this.internals.states.add('--valid');\n      } else {\n        this.internals.setValidity({ customError: true }, 'Please select an option.')\n        this.internals.states.add('--invalid');\n      }\n    }\n  }\n\n  componentDidLoad() {\n    this.internals.role = 'radiogroup';\n  }\n\n  formResetCallback() {\n    if (this.value !== this.originalValue) {\n      this.value = this.originalValue;\n    }\n  }\n\n  private getRadios() {\n    return Array.from(this.el.querySelectorAll<HTMLJeRadioElement | HTMLJeRadioButtonElement>('je-radio, je-radio-button'));\n  }\n\n  private isRadio(target: EventTarget | null): target is (HTMLJeRadioElement | HTMLJeRadioButtonElement) {\n    return target instanceof HTMLElement && (target.tagName == 'JE-RADIO' || target.tagName == 'JE-RADIO-BUTTON')\n  }\n\n  @Watch('value')\n  handleValueChange() {\n    this.internals.setFormValue(this.value);\n  }\n\n  @Listen('focus')\n  onFocus() {\n    const radios = this.getRadios();\n    (radios.find(radio => radio.value === this.value) ?? radios[0])?.focus();\n  }\n\n  @Listen('focusin')\n  onFocusIn() {\n    this.tabindex = -1;\n  }\n\n  @Listen('focusout')\n  onFocusOut() {\n    this.tabindex = 0;\n  }\n\n  @Listen('click')\n  handleNewValue(ev: Event) {\n    const { target } = ev;\n    if (this.isRadio(target)) {\n      this.value = target.value;\n      this.valueChange.emit(this.value);\n    }\n  }\n\n  @Listen('keydown', { capture: true })\n  handleKeyDown(ev: KeyboardEvent) {\n    const { target, key } = ev;\n    if (this.isRadio(target) && !this.disabled) {\n      if (key === 'ArrowDown' || key === 'ArrowRight') {\n        ev.preventDefault();\n        const radios = this.getRadios();\n        const index = radios.findIndex(radio => radio.value === this.value);\n        const radio = radios[(index + 1) % radios.length];\n        radio.focus();\n        this.value = radio.value;\n        this.valueChange.emit(this.value);\n      } else if (key === 'ArrowUp' || key === 'ArrowLeft') {\n        ev.preventDefault();\n        const radios = this.getRadios();\n        const index = radios.findIndex(radio => radio.value === this.value);\n        const radio = radios[(index - 1 + radios.length) % radios.length];\n        radio.focus();\n        this.value = radio.value;\n        this.valueChange.emit(this.value);\n      } else if (ev.key === ' ') {\n        this.value = target.value;\n        this.valueChange.emit(this.value);\n      }\n    }\n  }\n\n  render() {\n    const buttons = this.el.querySelector('je-radio-button') !== null\n    return (\n      <Host tabindex={this.tabindex}>\n        <slot name='label'>\n          {this.label && <je-label required={this.required}>{this.label}</je-label>}\n        </slot>\n        <div class={buttons ? 'buttons' : 'content'}>\n          <slot/>\n        </div>\n        <slot name='note'>\n          {this.note && <je-note>{this.note}</je-note>}\n        </slot>\n      </Host>\n    );\n  }\n}\n"],"version":3}